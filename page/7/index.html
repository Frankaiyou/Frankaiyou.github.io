<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/7/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <!--<link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">-->
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-P4136" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/20/P4136/" class="article-date">
  <time datetime="2018-02-20T13:47:46.000Z" itemprop="datePublished">2018-02-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/信息学竞赛/">信息学竞赛</a>►<a class="article-category-link" href="/categories/信息学竞赛/题目/">题目</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/20/P4136/">P4136 谁能赢呢？</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/20/P4136/" data-id="cjftq8nu0000le0kepclmvhlh" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SG函数/">SG函数</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/博弈论/">博弈论</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/规律/">规律</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-p1463" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/20/p1463/" class="article-date">
  <time datetime="2018-02-20T12:09:45.000Z" itemprop="datePublished">2018-02-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/信息学竞赛/">信息学竞赛</a>►<a class="article-category-link" href="/categories/信息学竞赛/题目/">题目</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/20/p1463/">P1463 [HAOI2007]反素数</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>　　对于任何正整数x，其约数的个数记作g(x)。例如g(1)=1、g(6)=4。<br>如果某个正整数x满足：g(x)&gt;g(i) 0&lt;i&lt;x，则称x为反质数。例如，整数1，2，4，6等都是反质数。<br>现在给定一个数N，你能求出不超过N的最大的反质数么？</p>
<h3 id="输入输出格式"><a href="#输入输出格式" class="headerlink" title="输入输出格式"></a>输入输出格式</h3><h4 id="输入格式："><a href="#输入格式：" class="headerlink" title="输入格式："></a>输入格式：</h4><p>　　一个数N（1&lt;=N&lt;=2,000,000,000）。</p>
<h4 id="输出格式："><a href="#输出格式：" class="headerlink" title="输出格式："></a>输出格式：</h4><p>　　不超过N的最大的反质数。</p>
<h3 id="输入输出样例"><a href="#输入输出样例" class="headerlink" title="输入输出样例"></a>输入输出样例</h3><h4 id="输入样例-1："><a href="#输入样例-1：" class="headerlink" title="输入样例#1："></a>输入样例#1：</h4><p>1000</p>
<h4 id="输出样例-1："><a href="#输出样例-1：" class="headerlink" title="输出样例#1："></a>输出样例#1：</h4><p>840</p>
<h3 id="做法"><a href="#做法" class="headerlink" title="做法:"></a>做法:</h3><p>　　这是一道与数学有关的问题.所以蛮力是不行的,得利用其比较精妙的性质.<br>　　设$g(n)$为一个数$n$的约数和.则:<br>$$\begin{align}<br>n=\prod p_{1}^{k_{1}}p_{2}^{k_2}\cdots p_{m}^{k_m},\\<br>g(n)=(k_1+1)(k_2+1)\cdots(k_m)+1.<br>\end{align}<br>$$</p>
<p>　　观察上述式子可以发现, 一个数约数和的大小不取决于其具体的质因子,而取决于质因子的幂,而且在两个数其约数和相同的情况下,答案只可能是较小的那个.<br>所以我们在构造一个可能的答案时, 使得其各因子的指数递减就能避免大量的无用运算.</p>
<pre><code>在有了以上的思路之后, 我们就可以试着用搜索去做这道题了, 依次枚举每个质因子的次数从而更新答案, 注意前10个质数的成绩就最大的数据范围.所以只需要枚举前10个质数就可以.
</code></pre><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p>　　如果有人看见一个人连续交了很多遍都是60分, 那个智障大概就是我了.(一定要看题啊)<br>　　有一句非常重要的语句一定要注意.<br>//第12行的第二个判断非常重要,缺少就是60分.(其作用yy可知)<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(times&gt;maxt||(times==maxt&amp;&amp;ans&gt;sum))&#123;</div></pre></td></tr></table></figure></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> N 2000000000</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> prime[<span class="number">50</span>]=&#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">17</span>,<span class="number">19</span>,<span class="number">23</span>,<span class="number">29</span>,<span class="number">31</span>,<span class="number">37</span>,<span class="number">41</span>,<span class="number">43</span>,<span class="number">47</span>,<span class="number">53</span>,<span class="number">59</span>&#125;;</div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> ans=<span class="number">1</span>,maxt=<span class="number">1</span>;</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> pos,<span class="keyword">long</span> <span class="keyword">long</span> sum,<span class="keyword">long</span> <span class="keyword">long</span> times,<span class="keyword">int</span> pre)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(times&gt;maxt||(times==maxt&amp;&amp;ans&gt;sum))&#123;</div><div class="line">		maxt=times;</div><div class="line">		ans=sum;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(pos&gt;<span class="number">10</span>)<span class="keyword">return</span> ;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=pre;++i)&#123;</div><div class="line">		sum=sum*prime[pos];</div><div class="line">		<span class="keyword">if</span>(sum&lt;<span class="number">0</span>||sum&gt;n)<span class="keyword">break</span>;</div><div class="line">		dfs(pos+<span class="number">1</span>,sum,times*(i+<span class="number">1</span>),i);</div><div class="line">	&#125;</div><div class="line">&#125; </div><div class="line">main()&#123;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</div><div class="line">	<span class="keyword">int</span> root=<span class="number">1</span>;</div><div class="line">	dfs(<span class="number">0</span>,root,root,<span class="number">31</span>);</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%lld"</span>,ans);</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/20/p1463/" data-id="cjftq8nwu004qe0keju59la6a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/打表/">打表</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/搜索/">搜索</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数学/">数学</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/构造/">构造</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-p1486" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/20/p1486/" class="article-date">
  <time datetime="2018-02-20T11:38:16.000Z" itemprop="datePublished">2018-02-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/信息学竞赛/">信息学竞赛</a>►<a class="article-category-link" href="/categories/信息学竞赛/题目/">题目</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/20/p1486/">P1486 [NOI2004] 郁闷的出纳员</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>OIER公司是一家大型专业化软件公司，有着数以万计的员工。作为一名出纳员，我的任务之一便是统计每位员工的工资。这本来是一份不错的工作，但是令人郁闷的是，我们的老板反复无常，经常调整员工的工资。如果他心情好，就可能把每位员工的工资加上一个相同的量。反之，如果心情不好，就可能把他们的工资扣除一个相同的量。我真不知道除了调工资他还做什么其它事情。<br>工资的频繁调整很让员工反感，尤其是集体扣除工资的时候，一旦某位员工发现自己的工资已经低于了合同规定的工资下界，他就会立刻气愤地离开公司，并且再也不会回来了。每位员工的工资下界都是统一规定的。每当一个人离开公司，我就要从电脑中把他的工资档案删去，同样，每当公司招聘了一位新员工，我就得为他新建一个工资档案。<br>老板经常到我这边来询问工资情况，他并不问具体某位员工的工资情况，而是问现在工资第k多的员工拿多少工资。每当这时，我就不得不对数万个员工进行一次漫长的排序，然后告诉他答案。<br>好了，现在你已经对我的工作了解不少了。正如你猜的那样，我想请你编一个工资统计程序。怎么样，不是很困难吧？<br>如果某个员工的初始工资低于最低工资标准,那么将不计入最后的答案内</p>
<h3 id="输入输出格式"><a href="#输入输出格式" class="headerlink" title="输入输出格式"></a>输入输出格式</h3><h4 id="输入格式："><a href="#输入格式：" class="headerlink" title="输入格式："></a>输入格式：</h4><p>第一行有两个非负整数n和min。n表示下面有多少条命令，min表示工资下界。</p>
<p>接下来的n行，每行表示一条命令。命令可以是以下四种之一：</p>
<table>
<thead>
<tr>
<th style="text-align:center">名称</th>
<th style="text-align:center">格式</th>
<th style="text-align:center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">I命令</td>
<td style="text-align:center">I_k</td>
<td style="text-align:center">新建一个工资档案，初始工资为k。如果某员工的初始工资低于工资下界，他将立刻离开公司。</td>
</tr>
<tr>
<td style="text-align:center">A命令</td>
<td style="text-align:center">A_k</td>
<td style="text-align:center">把每位员工的工资加上k</td>
</tr>
<tr>
<td style="text-align:center">S命令</td>
<td style="text-align:center">S_k</td>
<td style="text-align:center">把每位员工的工资扣除k</td>
</tr>
<tr>
<td style="text-align:center">F命令</td>
<td style="text-align:center">F_k</td>
<td style="text-align:center">查询第k多的工资</td>
</tr>
</tbody>
</table>
<p>_（下划线）表示一个空格，I命令、A命令、S命令中的k是一个非负整数，F命令中的k是一个正整数。</p>
<p>在初始时，可以认为公司里一个员工也没有。</p>
<h4 id="输出格式："><a href="#输出格式：" class="headerlink" title="输出格式："></a>输出格式：</h4><p>输出文件的行数为F命令的条数加一。</p>
<p>对于每条F命令，你的程序要输出一行，仅包含一个整数，为当前工资第k多的员工所拿的工资数，如果k大于目前员工的数目，则输出-1。</p>
<p>输出文件的最后一行包含一个整数，为离开公司的员工的总数。</p>
<h3 id="输入输出样例"><a href="#输入输出样例" class="headerlink" title="输入输出样例"></a>输入输出样例</h3><h4 id="输入样例-1："><a href="#输入样例-1：" class="headerlink" title="输入样例#1："></a>输入样例#1：</h4><p>9 10<br>I 60<br>I 70<br>S 50<br>F 2<br>I 30<br>S 15<br>A 5<br>F 1<br>F 2</p>
<h4 id="输出样例-1："><a href="#输出样例-1：" class="headerlink" title="输出样例#1："></a>输出样例#1：</h4><p>10<br>20<br>-1<br>2</p>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>I命令的条数不超过100000<br>A命令和S命令的总条数不超过100<br>F命令的条数不超过100000<br>每次工资调整的调整量不超过1000<br>新员工的工资不超过100000</p>
<h3 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h3><ul>
<li>线段树</li>
<li><p>平衡树</p>
</li>
<li><p>线段树做法<br>用<strong>线段树</strong>维护一段工资的区间中每个区间的人数，查询[min,max]的区间，当工资增的时候，相当于把查询的区间整体左移，减的时候同理，但要注意把被删除的区间清空，统计清除人数。</p>
</li>
<li><p>平衡树做法<br>平衡树做法就比较朴实了<br>就是插入,删除,查询</p>
</li>
</ul>
<p>花了一个小时时间重构了一下代码,竟然在13天后的今天也就是2月20日过了这道题.<br>而且过了样例就A了,真开心.<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> k,f,l,tot;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;V;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;s)</span></span>&#123;</div><div class="line">	<span class="keyword">char</span> ch=getchar();</div><div class="line">	<span class="keyword">for</span>(;!<span class="built_in">isdigit</span>(ch);ch=getchar());</div><div class="line">	<span class="keyword">for</span>(s=<span class="number">0</span>;<span class="built_in">isdigit</span>(ch);s=s*<span class="number">10</span>+ch-<span class="string">'0'</span>,ch=getchar());</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(<span class="keyword">int</span> s)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(s&lt;k)<span class="keyword">return</span> ;</div><div class="line">	V.insert(upper_bound(V.begin(),V.end(),s-f),s-f);</div><div class="line">	<span class="keyword">return</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"begin&lt;print&gt;"</span>);</div><div class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it;</div><div class="line">	<span class="keyword">for</span>(it=V.begin();it!=V.end();++it)</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>,V[it-V.begin()]+f);</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Addition</span><span class="params">(<span class="keyword">int</span> s)</span></span>&#123;</div><div class="line">	f+=s;</div><div class="line">	l=lower_bound(V.begin(),V.end(),k-f)-V.begin();</div><div class="line">	tot+=l;</div><div class="line">	V.erase(V.begin(),V.begin()+l);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Query</span><span class="params">(<span class="keyword">int</span> s)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> len=V.end()-V.begin();</div><div class="line">	<span class="keyword">if</span>(len-s&lt;<span class="number">0</span>)<span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">	<span class="keyword">return</span> V[len-s]+f;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> WIN32</span></div><div class="line">	freopen(<span class="string">"a.in"</span>,<span class="string">"r"</span>,<span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">	<span class="keyword">int</span> n,b;</div><div class="line">	<span class="keyword">char</span> a[<span class="number">23</span>];</div><div class="line">	read(n),read(k);</div><div class="line">	<span class="keyword">while</span>(n--)&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>,a);read(b);</div><div class="line">		<span class="keyword">if</span>(a[<span class="number">0</span>]==<span class="string">'I'</span>)</div><div class="line">			Insert(b);</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(a[<span class="number">0</span>]==<span class="string">'A'</span>)</div><div class="line">			Addition(b);</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(a[<span class="number">0</span>]==<span class="string">'S'</span>)</div><div class="line">			Addition(-b);</div><div class="line">		<span class="keyword">else</span> &#123;</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,Query(b));</div><div class="line">		&#125;</div><div class="line">	<span class="comment">//	print();</span></div><div class="line">	&#125;</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d"</span>,tot);</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<ul>
<li><p>这是我写的一个类似平衡树的做法,但是好像写成了查询第k小的工资数量……不管了先不管这份代码了<del>其实是如果继续调的话还要花至少一晚上</del></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100005</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;s)</span></span>&#123;</div><div class="line">	<span class="keyword">char</span> ch=getchar();</div><div class="line">	<span class="keyword">for</span>(;!<span class="built_in">isdigit</span>(ch);ch=getchar());</div><div class="line">	<span class="keyword">for</span>(s=<span class="number">0</span>;<span class="built_in">isdigit</span>(ch);s=s*<span class="number">10</span>+ch-<span class="string">'0'</span>,ch=getchar());</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> f;</div><div class="line"><span class="keyword">int</span> n,m;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;v;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span> num)</span></span>&#123;</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,num);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> rank)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> pos=lower_bound(v.begin(),v.end(),m-f)-v.begin();</div><div class="line">	<span class="keyword">if</span>(v[pos]==m-f)pos--;</div><div class="line">	rank+=pos;<span class="keyword">return</span> v[rank]+f;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	read(n),read(m);</div><div class="line">	<span class="keyword">char</span> ch[N];<span class="keyword">int</span> num;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>,ch);read(num);</div><div class="line">		<span class="keyword">if</span>(ch[<span class="number">0</span>]==<span class="string">'I'</span>)</div><div class="line">			v.insert(lower_bound(v.begin(),v.end(),num),num);</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(ch[<span class="number">0</span>]==<span class="string">'A'</span>)</div><div class="line">			f+=num;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(ch[<span class="number">0</span>]==<span class="string">'S'</span>)</div><div class="line">			f-=num;</div><div class="line">		<span class="keyword">else</span> print(find(num));</div><div class="line"><span class="comment">//		for(int i=0;i&lt;10;++i)</span></div><div class="line"><span class="comment">//			cout&lt;&lt;v[i]&lt;&lt;' ';</span></div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>利用pb_ds实现的红黑树</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/extc++.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> M 100005</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> __gnu_pbds;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; pii;</div><div class="line"><span class="keyword">typedef</span> tree&lt;pii,null_type,greater&lt;pii&gt;,rb_tree_tag,tree_order_statistics_node_update&gt; <span class="keyword">tree_t</span>;</div><div class="line"><span class="keyword">tree_t</span> T,TE;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> n,m;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</div><div class="line">    <span class="keyword">int</span> delta=<span class="number">0</span>,ans=<span class="number">0</span>,id=<span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(n--)&#123;</div><div class="line">        <span class="keyword">char</span> opt;</div><div class="line">        <span class="keyword">for</span>(opt=getchar();<span class="built_in">isspace</span>(opt);opt=getchar());</div><div class="line">        <span class="keyword">int</span> x;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;x);</div><div class="line">        <span class="keyword">switch</span>(opt)&#123;</div><div class="line">            <span class="keyword">case</span> <span class="string">'I'</span>:</div><div class="line">                <span class="keyword">if</span>(x&gt;=m)</div><div class="line">                    T.insert(make_pair(x-delta,++id));<span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">'A'</span>:</div><div class="line">                delta+=x;<span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">'S'</span>:</div><div class="line">                delta-=x;T.split(make_pair(m-delta,<span class="number">0</span>),TE);</div><div class="line">                ans+=TE.size();<span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">'F'</span>:</div><div class="line">                <span class="keyword">tree_t</span>::iterator i=T.find_by_order(x<span class="number">-1</span>);</div><div class="line">                <span class="keyword">if</span>(i==T.end())<span class="built_in">puts</span>(<span class="string">"-1"</span>);</div><div class="line">				<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,i-&gt;first+delta);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/20/p1486/" data-id="cjftq8nx50059e0ke46phhrvn" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pb-ds/">pb_ds</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/平衡树/">平衡树</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/线段树/">线段树</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-p1156" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/20/p1156/" class="article-date">
  <time datetime="2018-02-20T08:39:58.000Z" itemprop="datePublished">2018-02-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/信息学竞赛/">信息学竞赛</a>►<a class="article-category-link" href="/categories/信息学竞赛/题目/">题目</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/20/p1156/">P1156 垃圾陷阱</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>卡门――农夫约翰极其珍视的一条Holsteins奶牛――已经落了到“垃圾井”中。“垃圾井”是农夫们扔垃圾的地方，它的深度为D(2&lt;=D&lt;=100)英尺。<br>卡门想把垃圾堆起来，等到堆得与井同样高时，她就能逃出井外了。另外，卡门可以通过吃一些垃圾来维持自己的生命。<br>每个垃圾都可以用来吃或堆放，并且堆放垃圾不用花费卡门的时间。<br>假设卡门预先知道了每个垃圾扔下的时间t(0&lt; t&lt;=1000)，以及每个垃圾堆放的高度h(1&lt;=h&lt;=25)和吃进该垃圾能维持生命的时间f(1&lt;=f&lt;=30)，要求出卡门最早能逃出井外的时间，假设卡门当前体内有足够持续10小时的能量，如果卡门10小时内没有进食，卡门就将饿死。</p>
<h3 id="输入输出格式"><a href="#输入输出格式" class="headerlink" title="输入输出格式"></a>输入输出格式</h3><h4 id="输入格式："><a href="#输入格式：" class="headerlink" title="输入格式："></a>输入格式：</h4><p>第一行为2个整数，D 和 G (1 &lt;= G &lt;= 100)，G为被投入井的垃圾的数量。<br>第二到第G+1行每行包括3个整数：T (0 &lt; T &lt;= 1000)，表示垃圾被投进井中的时间；F (1 &lt;= F &lt;= 30)，表示该垃圾能维持卡门生命的时间；和 H (1 &lt;= H &lt;= 25)，该垃圾能垫高的高度。</p>
<h4 id="输出格式："><a href="#输出格式：" class="headerlink" title="输出格式："></a>输出格式：</h4><p>如果卡门可以爬出陷阱，输出一个整表示最早什么时候可以爬出；否则输出卡门最长可以存活多长时间。</p>
<h3 id="输入输出样例"><a href="#输入输出样例" class="headerlink" title="输入输出样例"></a>输入输出样例</h3><h4 id="输入样例-1："><a href="#输入样例-1：" class="headerlink" title="输入样例#1："></a>输入样例#1：</h4><p>20 4<br>5 4 9<br>9 3 2<br>12 6 10<br>13 1 1</p>
<h4 id="输出样例-1："><a href="#输出样例-1：" class="headerlink" title="输出样例#1："></a>输出样例#1：</h4><p>13</p>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><h4 id="样例说明"><a href="#样例说明" class="headerlink" title="[样例说明]"></a>[样例说明]</h4><p>卡门堆放她收到的第一个垃圾：height=9；<br>卡门吃掉她收到的第二个垃圾，使她的生命从10小时延伸到13小时；<br>卡门堆放第3个垃圾，height=19；<br>卡门堆放第4个垃圾，height=20。</p>
<h3 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h3><p>根据直觉使用动态规划来解决这道题.<br>很容易可以想出一种状态表示方法.</p>
<p>$f(i)$表示当前高度为$i$时一共吃下去的食物总量.</p>
<p>可以看出$f(i)$越大越好(类似于背包问题中的价值).那么可以将此题抽象成一个背包问题.一个垃圾有两种选择: 要么吃掉,要么垫高.<br>如果垃圾$j$价值为$a$,高度为$b$.当其满足一定的限制条件时, 其可以这样更新状态:<br>$$f(i+b)=\max{f(i),f(i+b)}$$</p>
<p>$$f(i)=f(i)+a$$</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10005</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">namespace</span> Input&#123;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">char</span> ch=getchar();<span class="keyword">int</span> s=<span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span>(;!<span class="built_in">isdigit</span>(ch);ch=getchar());</div><div class="line">		<span class="keyword">for</span>(;<span class="built_in">isdigit</span>(ch);s=s*<span class="number">10</span>+ch-<span class="string">'0'</span>,ch=getchar());</div><div class="line">		<span class="keyword">return</span> s;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Input;</div><div class="line"><span class="keyword">struct</span> gf&#123;</div><div class="line">	<span class="keyword">int</span> t,e,h;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> gf&amp; a)<span class="keyword">const</span>&#123;</div><div class="line">		<span class="keyword">return</span> t&lt;a.t;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">newNode</span><span class="params">()</span></span>&#123;</div><div class="line">		t=read(),e=read(),h=read();</div><div class="line">	&#125;</div><div class="line">&#125;A[N];</div><div class="line"></div><div class="line"><span class="keyword">int</span> dp[N];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> WIN32</span></div><div class="line">	freopen(<span class="string">"testdata.in"</span>,<span class="string">"r"</span>,<span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> </span></div><div class="line">	<span class="keyword">int</span> Height,n;</div><div class="line">	Height=read(),n=read();</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</div><div class="line">		A[i].newNode();</div><div class="line">	sort(A+<span class="number">1</span>,A+n+<span class="number">1</span>);</div><div class="line">	dp[<span class="number">0</span>]=<span class="number">10</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> h=Height;h&gt;=<span class="number">0</span>;--h)</div><div class="line">			<span class="keyword">if</span>(dp[h]&gt;=A[i].t)&#123;</div><div class="line">				<span class="keyword">if</span>(h+A[i].h&gt;=Height)&#123;</div><div class="line">					<span class="built_in">printf</span>(<span class="string">"%d"</span>,A[i].t);</div><div class="line">					<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">				&#125;</div><div class="line">				dp[h+A[i].h]=max(dp[h],dp[h+A[i].h]);</div><div class="line">				dp[h]+=A[i].e;</div><div class="line">			&#125;</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d"</span>,dp[<span class="number">0</span>]);</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/20/p1156/" data-id="cjftq8nwr004je0ke4ipongxd" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/动态规划/">动态规划</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/背包/">背包</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-p2015" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/20/p2015/" class="article-date">
  <time datetime="2018-02-20T07:05:30.000Z" itemprop="datePublished">2018-02-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/信息学竞赛/">信息学竞赛</a>►<a class="article-category-link" href="/categories/信息学竞赛/题目/">题目</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/20/p2015/">P2015 二叉苹果树</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>有一棵苹果树，如果树枝有分叉，一定是分2叉（就是说没有只有1个儿子的结点）<br>这棵树共有N个结点（叶子点或者树枝分叉点），编号为1-N,树根编号一定是1。<br>我们用一根树枝两端连接的结点的编号来描述一根树枝的位置。下面是一颗有4个树枝的树<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">2   5 </div><div class="line"> \ / </div><div class="line">  3   4 </div><div class="line">   \ / </div><div class="line">    1</div></pre></td></tr></table></figure></p>
<p>现在这颗树枝条太多了，需要剪枝。但是一些树枝上长有苹果。<br>给定需要保留的树枝数量，求出最多能留住多少苹果。</p>
<h3 id="输入输出格式"><a href="#输入输出格式" class="headerlink" title="输入输出格式"></a>输入输出格式</h3><h4 id="输入格式："><a href="#输入格式：" class="headerlink" title="输入格式："></a>输入格式：</h4><p>第1行2个数，N和Q(1&lt;=Q&lt;= N,1&lt;N&lt;=100)。<br>N表示树的结点数，Q表示要保留的树枝数量。接下来N-1行描述树枝的信息。<br>每行3个整数，前两个是它连接的结点的编号。第3个数是这根树枝上苹果的数量。<br>每根树枝上的苹果不超过30000个。</p>
<h4 id="输出格式："><a href="#输出格式：" class="headerlink" title="输出格式："></a>输出格式：</h4><p>一个数，最多能留住的苹果的数量。</p>
<h3 id="输入输出样例"><a href="#输入输出样例" class="headerlink" title="输入输出样例"></a>输入输出样例</h3><h4 id="输入样例-1："><a href="#输入样例-1：" class="headerlink" title="输入样例#1："></a>输入样例#1：</h4><p>5 2<br>1 3 1<br>1 4 10<br>2 3 20<br>3 5 20</p>
<h4 id="输出样例-1："><a href="#输出样例-1：" class="headerlink" title="输出样例#1："></a>输出样例#1：</h4><p>21</p>
<h3 id="做法"><a href="#做法" class="headerlink" title="做法:"></a>做法:</h3><p>树形dp<br>因为这是一棵二叉树,所以比一般的树形dp简单了不少.<br>需要将边权转化为点权,将一条边的权值转移到其身为子结点的结点的点权,这样就有n-1个点有了点权,设根结点的点权为1.<br>然后枚举两个子结点分别保留多少个点就可以了.</p>
<p>还有一个重要的优化是记忆化搜索,如果不这么做,部分测试点会超时,提交中大部分的77分和69分都是这样造成的.</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> N 1005</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> root true</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">namespace</span> Input&#123;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">char</span> ch=getchar();</div><div class="line">		<span class="keyword">int</span> s=<span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span>(;!<span class="built_in">isdigit</span>(ch);ch=getchar());</div><div class="line">		<span class="keyword">for</span>(;<span class="built_in">isdigit</span>(ch);s=s*<span class="number">10</span>+ch-<span class="string">'0'</span>,ch=getchar());</div><div class="line">		<span class="keyword">return</span> s;</div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">int</span> dp[N][N];</div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Input;</div><div class="line"><span class="keyword">struct</span> Edge&#123;</div><div class="line">	<span class="keyword">int</span> v,nxt,val;</div><div class="line">&#125;e[N];</div><div class="line"><span class="keyword">int</span> head[N],tot;</div><div class="line"><span class="keyword">int</span> val[N];</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">AddEdge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> value)</span></span>&#123;</div><div class="line">	e[++tot]=(Edge)&#123;v,head[u],value&#125;;head[u]=tot;</div><div class="line">	e[++tot]=(Edge)&#123;u,head[v],value&#125;;head[v]=tot;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> fa[N];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> sum)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(dp[x][sum])<span class="keyword">return</span> dp[x][sum];</div><div class="line">	<span class="keyword">if</span>(!sum)<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">int</span> ls=<span class="number">0</span>,rs=<span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=head[x];i;i=e[i].nxt)</div><div class="line">		<span class="keyword">if</span>(e[i].v==fa[x]);</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(!ls)ls=e[i].v;</div><div class="line">		<span class="keyword">else</span> rs=e[i].v;</div><div class="line">	<span class="keyword">int</span> ans=<span class="number">0</span>;</div><div class="line">	<span class="keyword">if</span>(!ls||sum==<span class="number">1</span>)<span class="keyword">return</span> val[x];</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;sum;++k)</div><div class="line">		 ans=max(ans,dfs(ls,k)+dfs(rs,sum-k<span class="number">-1</span>)+val[x]);</div><div class="line">	dp[x][sum]=ans;</div><div class="line">	<span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> f)</span></span>&#123;</div><div class="line">	fa[x]=f;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=head[x];i;i=e[i].nxt)&#123;</div><div class="line">		<span class="keyword">if</span>(e[i].v==f)<span class="keyword">continue</span>;</div><div class="line">		val[e[i].v]=e[i].val;</div><div class="line">		Dfs(e[i].v,x);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> q,u,v,value;</div><div class="line">	n=read();q=read();</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;++i)&#123;</div><div class="line">		u=read(),v=read(),value=read();</div><div class="line">		AddEdge(u,v,value);</div><div class="line">	&#125;</div><div class="line">	Dfs(root,root);</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d"</span>,dfs(root,q+<span class="number">1</span>));</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/20/p2015/" data-id="cjftq8nx9005ge0ke0zhmdme9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/动态规划/">动态规划</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/树形dp/">树形dp</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-loj6287" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/13/loj6287/" class="article-date">
  <time datetime="2018-02-13T02:53:16.000Z" itemprop="datePublished">2018-02-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/信息学竞赛/">信息学竞赛</a>►<a class="article-category-link" href="/categories/信息学竞赛/题目/">题目</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/13/loj6287/">loj6287 数列分块入门 2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>给出一个长为 nnn 的数列，以及 nnn 个操作，操作涉及区间加法，询问区间内小于某个值 xxx 的元素个数。</p>
<h3 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h3><p>第一行输入一个数字 nnn。</p>
<p>第二行输入 nnn 个数字，第 i 个数字为 aia_ia<br>​i<br>​​ ，以空格隔开。</p>
<p>接下来输入 nnn 行询问，每行输入四个数字 opt\mathrm{opt}opt、lll、rrr、ccc，以空格隔开。</p>
<p>若 opt=0\mathrm{opt} = 0opt=0，表示将位于 [l,r][l, r][l,r] 的之间的数字都加 ccc。</p>
<p>若 opt=1\mathrm{opt} = 1opt=1，表示询问 [l,r][l, r][l,r] 中，小于 c2c^2c<br>​2<br>​的数字的个数。</p>
<h3 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h3><p>对于每次询问，输出一行一个数字表示答案。</p>
<h3 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h3><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><p>4<br>1 2 2 3<br>0 1 3 1<br>1 1 3 2<br>1 1 4 1<br>1 2 3 2</p>
<h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><p>3<br>0<br>2</p>
<h3 id="数据范围与提示"><a href="#数据范围与提示" class="headerlink" title="数据范围与提示"></a>数据范围与提示</h3><p>对于 100% 100\% 100% 的数据</p>
<h3 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h3><ul>
<li>对于加法操作,和上一题一样,大块打标记,零散块暴力改,改完后重新排序.</li>
<li>询问操作,大块在排序后数组中二分,小块直接暴力查.<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3>和上一题相比封装的好看一些了.<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> N 1005</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="keyword">int</span> B[N*N];</div><div class="line"><span class="keyword">int</span> s[N*N];</div><div class="line"><span class="keyword">int</span> block,size;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;s)</span></span>&#123;</div><div class="line">	<span class="keyword">char</span> ch=getchar();</div><div class="line">	<span class="keyword">for</span>(;!<span class="built_in">isdigit</span>(ch);ch=getchar());</div><div class="line">	<span class="keyword">for</span>(s=<span class="number">0</span>;<span class="built_in">isdigit</span>(ch);s=s*<span class="number">10</span>+ch-<span class="string">'0'</span>,ch=getchar());</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">struct</span> Block&#123;</div><div class="line">	<span class="keyword">public</span>:</div><div class="line">	<span class="keyword">int</span> id;</div><div class="line">	<span class="keyword">int</span> l,r;</div><div class="line">	<span class="keyword">int</span> flag;</div><div class="line">	<span class="keyword">int</span> data[N];</div><div class="line">	Block()&#123;flag=<span class="number">0</span>;&#125;</div><div class="line">	Block(<span class="keyword">int</span> ID,<span class="keyword">int</span> L,<span class="keyword">int</span> R)&#123;</div><div class="line">		id=ID;l=L,r=R;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=l,j=i-L;i&lt;=r;++i)</div><div class="line">		   data[j]=s[i];</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=l;i&lt;=r;++i)</div><div class="line">			B[i]=id;</div><div class="line">		Sort();	</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Sort</span><span class="params">()</span></span>&#123;</div><div class="line">		sort(data,data+r-l+<span class="number">1</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Addition</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> delta)</span></span>&#123;</div><div class="line">		<span class="keyword">if</span>(R&lt;L)<span class="keyword">return</span> ;</div><div class="line">		<span class="keyword">if</span>(L&lt;=l&amp;&amp;R&gt;=r)flag+=delta;</div><div class="line">		<span class="keyword">else</span> &#123;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=L;i&lt;=R;++i)</div><div class="line">			data[i-l]+=delta;</div><div class="line">			Sort();</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> ;		</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">Query</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> k)</span></span>&#123;</div><div class="line">		<span class="keyword">if</span>(R&lt;L)<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">		<span class="keyword">if</span>(L&lt;l&amp;&amp;R&gt;=r)&#123;</div><div class="line">			<span class="keyword">int</span> pos=lower_bound(data,data+r-l+<span class="number">1</span>,k-flag)-data;</div><div class="line">			<span class="keyword">return</span> pos;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> &#123;</div><div class="line">			k-=flag;</div><div class="line">			<span class="keyword">int</span> ans=<span class="number">0</span>;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=L;i&lt;=R;++i)</div><div class="line">				<span class="keyword">if</span>(s[i]&lt;=k)</div><div class="line">					ans++;</div><div class="line">			<span class="keyword">return</span> ans;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;D[N];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Addition</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> delta)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> i=l;</div><div class="line">	<span class="keyword">while</span>(i&lt;=r)&#123;</div><div class="line">		Addition(i,min(D[B[i]].r,r),delta);</div><div class="line">		i=D[B[i]].r+<span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span>  <span class="title">Query</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> k)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> i=l;<span class="keyword">int</span> ans=<span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span>(i&lt;=r)</div><div class="line">		ans+=Query(i,min(D[B[i]].r,r),k);</div><div class="line">	<span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	read(n);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</div><div class="line">		read(s[i]);</div><div class="line">	<span class="keyword">int</span> size=<span class="built_in">sqrt</span>(n);</div><div class="line">	block=size*size==n?size:size+<span class="number">1</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</div><div class="line">		D[i]=Block(i,(i<span class="number">-1</span>)*size+<span class="number">1</span>,min(i*size,n));</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</div><div class="line">		<span class="keyword">int</span> a,b,c,d;</div><div class="line">		read(a);read(b);read(c);read(d);</div><div class="line">		<span class="keyword">if</span>(a)&#123;</div><div class="line">			d*=d;</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,</div><div class="line">					(b,c,d));</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> Addition(b,c,d);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/13/loj6287/" data-id="cjftq8nvm0033e0keev0bs3c3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分块/">分块</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-loj6277" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/12/loj6277/" class="article-date">
  <time datetime="2018-02-12T13:46:15.000Z" itemprop="datePublished">2018-02-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/信息学竞赛/">信息学竞赛</a>►<a class="article-category-link" href="/categories/信息学竞赛/题目/">题目</a>►<a class="article-category-link" href="/categories/信息学竞赛/题目/模板/">模板</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/12/loj6277/">loj6277 数列分块入门 1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>给出一个长为 nnn 的数列，以及 nnn 个操作，操作涉及区间加法，单点查值。<br>输入格式<br>第一行输入一个数字 nnn。</p>
<p>第二行输入 n个数字，第 i 个数字为 $a_i$ ，以空格隔开。</p>
<p>接下来输入 n 行询问，每行输入四个数字 $\mathrm{opt}$、l、r、c，以空格隔开。<br>若 $\mathrm{opt} = 0$，表示将位于 $[l,r]$的之间的数字都加 c。<br>若 $\mathrm{opt} = 1$，表示询问 $a_r$的值（l 和 c 忽略）。</p>
<h3 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h3><p>对于每次询问，输出一行一个数字表示答案。</p>
<p>###样例</p>
<h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><p>4<br>1 2 2 3<br>0 1 3 1<br>1 0 1 0<br>0 1 2 2<br>1 0 2 0</p>
<h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><p>2<br>5</p>
<h3 id="数据范围与提示"><a href="#数据范围与提示" class="headerlink" title="数据范围与提示"></a>数据范围与提示</h3><p>对于 100% 100\% 100% 的数据，$1≤n≤50000,\mathrm{ans} \leq 2^{31}-1 $</p>
<h3 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h3><p>分块</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p>因为个人习惯的问题每次写数据结构都要封装,导致速度略慢,目前Rank the last.<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> N 5005</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> s[<span class="number">520000</span>];</div><div class="line"></div><div class="line"><span class="keyword">int</span> Belong[<span class="number">500000</span>];</div><div class="line"><span class="keyword">int</span> block,size;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Block&#123;</div><div class="line">	<span class="keyword">public</span>:</div><div class="line">	<span class="keyword">int</span> data[N];</div><div class="line">	<span class="keyword">int</span> flag,l,r,id;</div><div class="line">	Block()&#123;flag=<span class="number">0</span>;&#125;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Build</span><span class="params">(<span class="keyword">int</span> ID,<span class="keyword">int</span> L,<span class="keyword">int</span> R)</span></span>&#123;</div><div class="line">		l=L,r=R;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=L,j=<span class="number">0</span>;i&lt;=R;++i,++j)</div><div class="line">			data[j]=s[i];</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=L;i&lt;=R;++i)</div><div class="line">			Belong[i]=ID;</div><div class="line">		id=ID;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Addition</span><span class="params">(<span class="keyword">int</span> delta)</span></span>&#123;</div><div class="line">		flag+=delta;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Addition</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> delta)</span></span>&#123;</div><div class="line">      	    <span class="keyword">for</span>(<span class="keyword">int</span> i=L-l;i+l&lt;=R;++i)&#123;</div><div class="line">				data[i]+=delta;</div><div class="line">			&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> position)</span></span>&#123;</div><div class="line">		<span class="keyword">if</span>(position&gt;=l&amp;&amp;position&lt;=r)</div><div class="line">    		<span class="keyword">return</span> data[position-l]+flag;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	&#125;</div><div class="line">&#125;B[N];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Build</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</div><div class="line">	size=block=<span class="built_in">sqrt</span>(n);</div><div class="line">	<span class="keyword">if</span>(block*block!=n)block++;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;block;++i)</div><div class="line">		B[i].Build(i,(i<span class="number">-1</span>)*size+<span class="number">1</span>,i*size);</div><div class="line">	<span class="keyword">if</span>(block&gt;=size)</div><div class="line">		B[block].Build(block,(block<span class="number">-1</span>)*size+<span class="number">1</span>,n);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Addition</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> delta)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> i=l;</div><div class="line">	<span class="keyword">while</span>(i&lt;=r)&#123;</div><div class="line">		<span class="keyword">if</span>(B[Belong[i]].l&lt;i)&#123;</div><div class="line">			B[Belong[i]].Addition(i,min(B[Belong[i]].r,r),delta);</div><div class="line">			i=B[Belong[i]].r+<span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">while</span>(B[Belong[i]].l&gt;=i&amp;&amp;B[Belong[i]].r&lt;=r)&#123;</div><div class="line">				B[Belong[i]].Addition(delta);</div><div class="line">				i=B[Belong[i]].r+<span class="number">1</span>;</div><div class="line">			&#125;</div><div class="line">		<span class="keyword">if</span>(B[Belong[i]].r&gt;i)&#123;</div><div class="line">			B[Belong[i]].Addition(i,r,delta);</div><div class="line">			i=B[Belong[i]].r+<span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Query</span><span class="params">(<span class="keyword">int</span> position)</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> B[Belong[position]].sum(position);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> s=<span class="number">0</span>;<span class="keyword">char</span> ch=getchar();</div><div class="line">	<span class="keyword">for</span>(;!<span class="built_in">isdigit</span>(ch);ch=getchar());</div><div class="line">	<span class="keyword">for</span>(s=<span class="number">0</span>;<span class="built_in">isdigit</span>(ch);s=s*<span class="number">10</span>+ch-<span class="string">'0'</span>,ch=getchar());</div><div class="line">	<span class="keyword">return</span> s;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> n,m;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</div><div class="line">		s[i]=read();</div><div class="line">	Build(n);</div><div class="line">	<span class="keyword">int</span> a,b,c,d;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</div><div class="line">		a=read(),b=read(),c=read(),d=read();</div><div class="line">		<span class="keyword">if</span>(a)<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,Query(c));</div><div class="line">		<span class="keyword">else</span> Addition(b,c,d);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/12/loj6277/" data-id="cjftq8nvu003ie0kewfen8h6a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分块/">分块</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/模板/">模板</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-xxdsygzyx" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/12/xxdsygzyx/" class="article-date">
  <time datetime="2018-02-12T08:20:57.000Z" itemprop="datePublished">2018-02-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/数学/">数学</a>►<a class="article-category-link" href="/categories/数学/线性代数/">线性代数</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/12/xxdsygzyx/">第一章 向量空间</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="复数"><a href="#复数" class="headerlink" title="复数"></a>复数</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>　　复数不同于实数.关键思想是假定$-1$有平方根,记为$i$,它表示$\sqrt{-1}$.形式上一个<strong>复数</strong>是一个有序的数对$(a,b)$,其中$a,b\in \mathbf{R}$,<br>但是将其写成$a+bi$.把所有复数构成的集合记为$\mathbf{C}$:<br>$$\mathbf{C}={a+bi: a,b\in R}$$.<br>　　若$a\in \mathbf{R}$,则将$a+0i$看成是一样的,于是可以将$\mathbf R$看做是$\mathbf C$的一个子集.<br>$\mathbf C$上的加法和乘法定义如下:<br>$$\begin{align}<br>(a+bi)+(c+di)=(a+c)+(b+d)i,\newline<br>(a+bi)(c+di)=(ac-bd)+(ad+bc)i.\end{align}<br>$$</p>
<h3 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h3><p>可以证明$\mathbf C$上的加法和乘法满足以下性质.</p>
<ul>
<li><strong>交换律</strong><br>　　对所有$w,z\in \mathbf C,$都有$w+z=z+w, wz=zw$;</li>
<li><strong>结合律</strong><br>　　对于有$z_1,z_2,z_3\in \mathbf C$,都有$$(z_1+z_2)+z_3=z_1+(z_2+z_3),(z_1z_2)z_3=z_1(z_2z_3);$$</li>
<li>单位元<br>　　对所有$z\in \mathbf C$,都有$z\in \mathbf C,$都有$z+0=z, z1=z;$</li>
<li>加法逆<br>　　对每个$z\in \mathbf C,$都存在唯一一个$w\in \mathbf C$, 使得$z+w=0$;</li>
<li>乘法逆<br>　　对每个$z\in \mathbf C, z\ne 0$都存在唯一一个$w\in \mathbf C$, 使得$zw=1$;</li>
<li>分配性质<br>　　对于所以$\lambda,w,z\in\mathbf C$,都有$\lambda(w+z)=\lambda w+\lambda z$.<br>　　对$z\in \mathbf C$,以$-z$表示$z$的加法逆. 因而,$-z$是使得$$z+(-z)=0$$的唯一复数.$\mathbf C$上的减法定义为$$w-z=w+(-z),$$<br>其中$w,z\in \mathbf C$.<br>　　对于$z\in\mathbf C,z\ne 0$,以$1/z$表示$z$的乘法逆. 因而$1/z$是使得$$z(1/z)=1$$的唯一复数,$\mathbf C$上的除法定义为$$w/z=w(1/z),$$其中$w,z\in\mathbf C,z\ne 0$.<br>　　为了使给出的定义和证明对于实数和复数都适用, 我们将采取如下记号.<em>本节中$F$总表示$R$或$C$.</em><br>于是, 如果我们在$F$上证明了一个定理, 那么将其中的$F$换成$R$或$C$,定理照样成立. $F$中的元素被称为<strong>标量</strong>.”标量”就是数的意思,通常用标量来强调一个对象是数,而不是向量.<br>　　对$z\in \mathbf F$及正整数$m$, 我们把$z_m$定义为$m$个$z$的乘积:<br>$$z_m=zz\cdots \cdots z.$$<br>显然, 对所有$w,z\in\mathbf F$及正整数$m,n$, 都有$(z^m)^n=z^{mn}, (wz)^m=w^mz^m$.</li>
</ul>
<h2 id="向量空间"><a href="#向量空间" class="headerlink" title="向量空间"></a>向量空间</h2><h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><p>　　向量空间$R^2$可以看做一个平面,他有所有有序实数组成:<br>$$R^2={(x,y): x,y\in \mathbf R}$$<br>向量空间$R^3$可以看做是通常的空间,他有所有有序三元实数组构成.</p>
<p>　　为了把向量空间推广到更高维, 需要引入组的概念.$n$是一个非负整数,长度为$n$的组是按序排列, 用逗号隔开并且两端用括弧括起来的$n$个对象.形式如下<br>$$(x_1,x_2,\cdots ,x_n).$$</p>
<p>对于$j\in{1,2,\cdots ,n}$,称$x_j$是上述组的第$j$个<strong>坐标</strong></p>
<p>　　$R^2,R^3$的高维相似物, 用$\mathbf F^n$表示.<br>$$\mathbf F^n={(x_1,x_2,\cdots ,x_n): x_j\in\mathbf F,j=1,\cdots,n}$$</p>
<p>　　用$0$表示长度为$n$且所有坐标都为$0$的组:<br>$$0=(0,\codts,0)$$</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/12/xxdsygzyx/" data-id="cjftq8nz10093e0kec8ldedpm" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/线性代数/">线性代数</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-linear" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/12/linear/" class="article-date">
  <time datetime="2018-02-12T07:27:12.000Z" itemprop="datePublished">2018-02-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/数学/">数学</a>►<a class="article-category-link" href="/categories/数学/线性代数/">线性代数</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/12/linear/">对线性代数中线性的解释</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>看了一段时间同济大学编的线性代数教材(下文简称其为”同济线代”),几乎将全书都翻过一遍,却还是没有对线性这一概念有着清晰的认识.<br>毕竟它更侧重于计算而不是其意义.<br>下面这篇文章则一开始就清晰的指出了<strong>线性</strong>的含义.</p>
<p><em>这篇文章大概是来自<strong>ucla</strong>的一门课程中的某一篇讲义.</em><br>和它配套的还有$week2.pdf～week10.pdf$.</p>
<p>在我看了它前面一小段内容之后,我便恍然大悟了,原来是这么回事.<br>而同济线代构建整个知识体系的过程则与此不同,先讲行列式最后才讲最重要的线性空间,虽然难度是递增的,但是感觉会本末倒置.</p>
<h3 id="简要内容"><a href="#简要内容" class="headerlink" title="简要内容"></a>简要内容</h3><ul>
<li>线性代数是关于线性变换和代数性质(algebraic properties)的研究.</li>
<li>变换是将输入转换为输出的操作(我用f$(x)$来表示对于输入$x$它的输出$f(x)$),一个变换是线性的仅当其满足<strong>(a) <em>齐次性</em> $af(x)=f(ax)$</strong>和(b) <em>可加性</em> $f(x+y)=f(x)+f(y)$.</li>
<li>一个关于线性变换的例子是$y:=3x/y=3x$,这个变换的图像是一条直线这就是”线性”的来源.</li>
<li>一个非线性变换的例子是$y:=x^2/y=x^2$,输入加倍会导致输出变成四倍,同时不满足可加性,所以不是线性变换,它的图像是不线性的.</li>
<li>真实生活中,大多数的变换是非线性的,但是他们可以用线性变换准确近似(利用微积分—用切线来近似一个非线性函数.),这对研究来说是有利的因为线性变换更容易研究.</li>
<li>上述例子的输入和输出都是标量,是一个单独的数字,但是很多情况中,输入和输出有几个数字,是一个向量.</li>
<li>一个关于向量的线性变换的例子是<strong>牛顿第二定律</strong>,<strong>F</strong>和<strong>m</strong>都是向量.</li>
</ul>
<p>接下来讲述更多内容如向量空间,未完待续.<br>$$F=am,or  a=\frac{F}{m}$$</p>
<p><div id="my-contaniner"></div></p>
<p><style><br>.pdfobject-container { height: 700px;}<br>.pdfobject { border: 1px solid #666; }<br>.margins { height: 700px;}<br></style></p>
<script src="/js/pdfobject.js"></script>
<script>PDFObject.embed("/pdf/Linear week1.pdf", "#my-contaniner" , {height: "700px"});</script>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/12/linear/" data-id="cjftq8nvg002te0ke7ffz3lg5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/线性代数/">线性代数</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hdu4825" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/12/hdu4825/" class="article-date">
  <time datetime="2018-02-11T21:40:00.000Z" itemprop="datePublished">2018-02-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/信息学竞赛/">信息学竞赛</a>►<a class="article-category-link" href="/categories/信息学竞赛/题目/">题目</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/12/hdu4825/">HDU 4825 Xor Sum</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Xor-Sum"><a href="#Xor-Sum" class="headerlink" title="Xor Sum"></a>Xor Sum</h2><h4 id="Time-Limit-2000-1000-MS-Java-Others-Memory-Limit-132768-132768-K-Java-Others"><a href="#Time-Limit-2000-1000-MS-Java-Others-Memory-Limit-132768-132768-K-Java-Others" class="headerlink" title="Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 132768/132768 K (Java/Others)"></a>Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 132768/132768 K (Java/Others)</h4><h4 id="Total-Submission-s-3645-Accepted-Submission-s-1593"><a href="#Total-Submission-s-3645-Accepted-Submission-s-1593" class="headerlink" title="Total Submission(s): 3645    Accepted Submission(s): 1593"></a>Total Submission(s): 3645    Accepted Submission(s): 1593</h4><h3 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>Zeus 和 Prometheus 做了一个游戏，Prometheus 给 Zeus 一个集合，集合中包含了N个正整数，随后 Prometheus 将向 Zeus 发起M次询问，每次询问中包含一个正整数 S ，之后 Zeus 需要在集合当中找出一个正整数 K ，使得 K 与 S 的异或结果最大。Prometheus 为了让 Zeus 看到人类的伟大，随即同意 Zeus 可以向人类求助。你能证明人类的智慧么？</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>输入包含若干组测试数据，每组测试数据包含若干行。<br>输入的第一行是一个整数T（T &lt; 10），表示共有T组数据。<br>每组数据的第一行输入两个正整数N，M（&lt;1=N,M&lt;=100000），接下来一行，包含N个正整数，代表 Zeus 的获得的集合，之后M行，每行一个正整数S，代表 Prometheus 询问的正整数。所有正整数均不超过2^32。</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>对于每组数据，首先需要输出单独一行”Case #?:”，其中问号处应填入当前的数据组数，组数从1开始计算。<br>对于每个询问，输出一个正整数K，使得K与S异或值最大。</p>
<h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><p>2<br>3 2<br>3 4 5<br>1<br>5<br>4 1<br>4 6 5 6<br>3</p>
<h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><p>Case #1:<br>4<br>3<br>Case #2:<br>4</p>
<h3 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h3><p>2014年百度之星程序设计大赛 - 资格赛</p>
<h3 id="Recommend"><a href="#Recommend" class="headerlink" title="Recommend"></a>Recommend</h3><p>liuyiding   |   We have carefully selected several similar problems for you:  6263 6262 6261 6260 6259 </p>
<h3 id="做法"><a href="#做法" class="headerlink" title="做法:"></a>做法:</h3><p>根据高位到低位建<strong>01 Trie树</strong>,将数集中元素依次加入,查询时尽量选择与数位不同的那位.</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> N 400005</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;s)</span></span>&#123;</div><div class="line">	<span class="keyword">register</span> <span class="keyword">char</span> ch=getchar();</div><div class="line">	<span class="keyword">for</span>(;!<span class="built_in">isdigit</span>(ch);ch=getchar());</div><div class="line">	<span class="keyword">for</span>(s=<span class="number">0</span>;<span class="built_in">isdigit</span>(ch);s=s*<span class="number">10</span>+ch-<span class="string">'0'</span>,ch=getchar());</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">struct</span> Node&#123;</div><div class="line">	Node *ls,*rs;</div><div class="line">	Node():ls(<span class="literal">NULL</span>),rs(<span class="literal">NULL</span>)&#123;&#125;</div><div class="line">&#125;pool[N];</div><div class="line"></div><div class="line"><span class="keyword">int</span> maxw;</div><div class="line"></div><div class="line"><span class="function">Node* <span class="title">newNode</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">static</span> <span class="keyword">int</span> cnt=<span class="number">0</span>;</div><div class="line">	pool[cnt].ls=<span class="literal">NULL</span>;</div><div class="line">	pool[cnt].rs=<span class="literal">NULL</span>;</div><div class="line">	<span class="keyword">return</span> &amp;pool[cnt++];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(Node* root,<span class="keyword">int</span> sum)</span></span>&#123;</div><div class="line">	Node* now=root;<span class="keyword">int</span> ver;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">30</span>;i&gt;=<span class="number">0</span>;--i)&#123;</div><div class="line">		<span class="keyword">if</span>(sum-(<span class="number">1</span>&lt;&lt;i)&gt;=<span class="number">0</span>)&#123;</div><div class="line">			ver=<span class="number">1</span>;</div><div class="line">			sum-=(<span class="number">1</span>&lt;&lt;i);</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> ver=<span class="number">0</span>;</div><div class="line">		<span class="keyword">if</span>(ver)&#123;</div><div class="line">			<span class="keyword">if</span>(now-&gt;rs==<span class="literal">NULL</span>)</div><div class="line">				now-&gt;rs=newNode();</div><div class="line">			now=now-&gt;rs;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> &#123;</div><div class="line">			<span class="keyword">if</span>(now-&gt;ls==<span class="literal">NULL</span>)</div><div class="line">				now-&gt;ls=newNode();</div><div class="line">			now=now-&gt;ls;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Query</span><span class="params">(Node* root,<span class="keyword">int</span> sum)</span></span>&#123;</div><div class="line">	Node* now=root;<span class="keyword">int</span> ans=<span class="number">0</span>,ver;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">30</span>;i&gt;=<span class="number">0</span>;--i)&#123;</div><div class="line">		<span class="keyword">if</span>(sum-(<span class="number">1</span>&lt;&lt;i)&gt;=<span class="number">0</span>)&#123;</div><div class="line">			ver=<span class="number">0</span>;</div><div class="line">			sum-=(<span class="number">1</span>&lt;&lt;i);</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> ver=<span class="number">1</span>;	</div><div class="line">		<span class="keyword">if</span>(now-&gt;ls==<span class="literal">NULL</span>)</div><div class="line">			<span class="keyword">if</span>(now-&gt;rs==<span class="literal">NULL</span>)</div><div class="line">				<span class="keyword">return</span> ans;</div><div class="line">		<span class="keyword">if</span>(now-&gt;ls==<span class="literal">NULL</span>)&#123;</div><div class="line">			now=now-&gt;rs;</div><div class="line">			ans+=<span class="number">1</span>&lt;&lt;i;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(now-&gt;rs==<span class="literal">NULL</span>)</div><div class="line">			now=now-&gt;ls;</div><div class="line">		<span class="keyword">else</span> &#123;</div><div class="line">			<span class="keyword">if</span>(ver)&#123;</div><div class="line">				now=now-&gt;rs;</div><div class="line">				ans+=<span class="number">1</span>&lt;&lt;i;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">else</span> now=now-&gt;ls;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> T,n,m,s;</div><div class="line">	read(T);Node* root;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=T;++i)&#123;</div><div class="line">		root=newNode();</div><div class="line">		read(n),read(m);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"Case #%d:\n"</span>,i);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</div><div class="line">			read(s);Insert(root,s);</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;++i)&#123;</div><div class="line">			read(s);<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,Query(root,s));</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/12/hdu4825/" data-id="cjftq8nv8002de0kez4kd0ppk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Trie/">Trie</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/异或/">异或</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/6/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/8/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/信息学竞赛/">信息学竞赛</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/信息学竞赛/其它/">其它</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/信息学竞赛/总结/">总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/信息学竞赛/我的文档/">我的文档</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/信息学竞赛/考试/">考试</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/信息学竞赛/题目/">题目</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/信息学竞赛/题目/模板/">模板</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/其它/">其它</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数学/">数学</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/数学/线性代数/">线性代数</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/解决方案/">解决方案</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/解决方案/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/解决方案/LaTeX/">LaTeX</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/解决方案/VSCode/">VSCode</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/2-SAT/">2-SAT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Anti-SG/">Anti-SG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Beatty定理/">Beatty定理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CDQ分治/">CDQ分治</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CodeForces/">CodeForces</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Debug/">Debug</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Every-SG/">Every-SG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Floyd/">Floyd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ICG/">ICG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LaTeX/">LaTeX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lasker-s-Nim/">Lasker's Nim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Link-Cut-Tree/">Link-Cut-Tree</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Matrix-Tree/">Matrix-Tree</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Misere-Games/">Misère Games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Multi-SG/">Multi-SG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NOIP/">NOIP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SDOI/">SDOI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SG函数/">SG函数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tarjan/">Tarjan</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TikZ/">TikZ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Trie/">Trie</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zeckendorf定理/">Zeckendorf定理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bfs/">bfs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/copyright/">copyright</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/document/">document</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lca/">lca</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nim/">nim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pb-ds/">pb_ds</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pdf/">pdf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/source/">source</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/with-draw/">with draw</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/一堆简单题/">一堆简单题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/三维偏序/">三维偏序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二分/">二分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二分答案/">二分答案</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二维前缀和/">二维前缀和</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二维线段树/">二维线段树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二进制拆分/">二进制拆分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/位运算/">位运算</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/倍增/">倍增</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/内存池/">内存池</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/决策单调性/">决策单调性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分块/">分块</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分数规划/">分数规划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前缀和/">前缀和</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动态规划/">动态规划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/区间dp/">区间dp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/单调栈/">单调栈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/单调队列/">单调队列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博弈论/">博弈论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后缀数组/">后缀数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/四边形不等式优化/">四边形不等式优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/回文串/">回文串</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图论/">图论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/基环树/">基环树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/堆优化Dijkstra/">堆优化Dijkstra</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/多重标记/">多重标记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/多重背包/">多重背包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/威佐夫博弈/">威佐夫博弈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符串/">字符串</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/差分约束/">差分约束</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/巴什博弈/">巴什博弈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/带权并查集/">带权并查集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/平衡树/">平衡树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/并查集/">并查集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/异或/">异或</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/强制在线/">强制在线</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/强联通分量/">强联通分量</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/归并排序/">归并排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/快速幂/">快速幂</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/打表/">打表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/扩展欧几里得/">扩展欧几里得</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/拆点/">拆点</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/拓扑排序/">拓扑排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/指针/">指针</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/排列组合/">排列组合</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/搜索/">搜索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数学/">数学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数论/">数论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/斐波那契博弈/">斐波那契博弈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/斐波那契数列/">斐波那契数列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/斜率优化/">斜率优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/无限/">无限</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最大公约数/">最大公约数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最大流/">最大流</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最小生成树/">最小生成树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最短路/">最短路</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最长上升子序列/">最长上升子序列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最长公共子序列/">最长公共子序列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/构造/">构造</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/查分/">查分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树/">树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树形dp/">树形dp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树状数组/">树状数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模拟/">模拟</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模板/">模板</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/欧拉函数/">欧拉函数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/测试/">测试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/版权信息/">版权信息</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生成树/">生成树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/矩阵快速幂/">矩阵快速幂</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/秦九韶算法/">秦九韶算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/等差数列/">等差数列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线性代数/">线性代数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线段树/">线段树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络流/">网络流</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/考试/">考试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/背包/">背包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/艺术/">艺术</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/莫比乌斯反演/">莫比乌斯反演</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/规律/">规律</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/解决方案/">解决方案</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计划/">计划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/贪心/">贪心</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/逆元/">逆元</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/逆序对/">逆序对</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/错位排列数/">错位排列数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/题目/">题目</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高精/">高精</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/2-SAT/" style="font-size: 10px;">2-SAT</a> <a href="/tags/Anti-SG/" style="font-size: 10px;">Anti-SG</a> <a href="/tags/Beatty定理/" style="font-size: 11.25px;">Beatty定理</a> <a href="/tags/CDQ分治/" style="font-size: 10px;">CDQ分治</a> <a href="/tags/CodeForces/" style="font-size: 10px;">CodeForces</a> <a href="/tags/Debug/" style="font-size: 10px;">Debug</a> <a href="/tags/Every-SG/" style="font-size: 10px;">Every-SG</a> <a href="/tags/Floyd/" style="font-size: 10px;">Floyd</a> <a href="/tags/Hexo/" style="font-size: 12.5px;">Hexo</a> <a href="/tags/ICG/" style="font-size: 11.25px;">ICG</a> <a href="/tags/LaTeX/" style="font-size: 10px;">LaTeX</a> <a href="/tags/Lasker-s-Nim/" style="font-size: 10px;">Lasker's Nim</a> <a href="/tags/Link-Cut-Tree/" style="font-size: 10px;">Link-Cut-Tree</a> <a href="/tags/Matrix-Tree/" style="font-size: 10px;">Matrix-Tree</a> <a href="/tags/Misere-Games/" style="font-size: 10px;">Misère Games</a> <a href="/tags/Multi-SG/" style="font-size: 11.25px;">Multi-SG</a> <a href="/tags/NOIP/" style="font-size: 17.5px;">NOIP</a> <a href="/tags/Python/" style="font-size: 11.25px;">Python</a> <a href="/tags/SDOI/" style="font-size: 10px;">SDOI</a> <a href="/tags/SG函数/" style="font-size: 10px;">SG函数</a> <a href="/tags/Tarjan/" style="font-size: 10px;">Tarjan</a> <a href="/tags/TikZ/" style="font-size: 10px;">TikZ</a> <a href="/tags/Trie/" style="font-size: 12.5px;">Trie</a> <a href="/tags/Zeckendorf定理/" style="font-size: 10px;">Zeckendorf定理</a> <a href="/tags/bfs/" style="font-size: 10px;">bfs</a> <a href="/tags/copyright/" style="font-size: 10px;">copyright</a> <a href="/tags/document/" style="font-size: 12.5px;">document</a> <a href="/tags/lca/" style="font-size: 10px;">lca</a> <a href="/tags/nim/" style="font-size: 11.25px;">nim</a> <a href="/tags/pb-ds/" style="font-size: 10px;">pb_ds</a> <a href="/tags/pdf/" style="font-size: 16.25px;">pdf</a> <a href="/tags/source/" style="font-size: 10px;">source</a> <a href="/tags/with-draw/" style="font-size: 11.25px;">with draw</a> <a href="/tags/一堆简单题/" style="font-size: 10px;">一堆简单题</a> <a href="/tags/三维偏序/" style="font-size: 10px;">三维偏序</a> <a href="/tags/二分/" style="font-size: 10px;">二分</a> <a href="/tags/二分答案/" style="font-size: 11.25px;">二分答案</a> <a href="/tags/二维前缀和/" style="font-size: 10px;">二维前缀和</a> <a href="/tags/二维线段树/" style="font-size: 10px;">二维线段树</a> <a href="/tags/二进制拆分/" style="font-size: 10px;">二进制拆分</a> <a href="/tags/位运算/" style="font-size: 10px;">位运算</a> <a href="/tags/倍增/" style="font-size: 13.75px;">倍增</a> <a href="/tags/内存池/" style="font-size: 11.25px;">内存池</a> <a href="/tags/决策单调性/" style="font-size: 10px;">决策单调性</a> <a href="/tags/分块/" style="font-size: 11.25px;">分块</a> <a href="/tags/分数规划/" style="font-size: 11.25px;">分数规划</a> <a href="/tags/前缀和/" style="font-size: 10px;">前缀和</a> <a href="/tags/动态规划/" style="font-size: 20px;">动态规划</a> <a href="/tags/区间dp/" style="font-size: 10px;">区间dp</a> <a href="/tags/单调栈/" style="font-size: 10px;">单调栈</a> <a href="/tags/单调队列/" style="font-size: 11.25px;">单调队列</a> <a href="/tags/博弈论/" style="font-size: 18.75px;">博弈论</a> <a href="/tags/后缀数组/" style="font-size: 11.25px;">后缀数组</a> <a href="/tags/四边形不等式优化/" style="font-size: 10px;">四边形不等式优化</a> <a href="/tags/回文串/" style="font-size: 10px;">回文串</a> <a href="/tags/图论/" style="font-size: 13.75px;">图论</a> <a href="/tags/基环树/" style="font-size: 10px;">基环树</a> <a href="/tags/堆优化Dijkstra/" style="font-size: 10px;">堆优化Dijkstra</a> <a href="/tags/多重标记/" style="font-size: 10px;">多重标记</a> <a href="/tags/多重背包/" style="font-size: 10px;">多重背包</a> <a href="/tags/威佐夫博弈/" style="font-size: 11.25px;">威佐夫博弈</a> <a href="/tags/字符串/" style="font-size: 15px;">字符串</a> <a href="/tags/差分约束/" style="font-size: 11.25px;">差分约束</a> <a href="/tags/巴什博弈/" style="font-size: 10px;">巴什博弈</a> <a href="/tags/带权并查集/" style="font-size: 10px;">带权并查集</a> <a href="/tags/平衡树/" style="font-size: 11.25px;">平衡树</a> <a href="/tags/并查集/" style="font-size: 10px;">并查集</a> <a href="/tags/异或/" style="font-size: 11.25px;">异或</a> <a href="/tags/强制在线/" style="font-size: 10px;">强制在线</a> <a href="/tags/强联通分量/" style="font-size: 10px;">强联通分量</a> <a href="/tags/归并排序/" style="font-size: 10px;">归并排序</a> <a href="/tags/快速幂/" style="font-size: 10px;">快速幂</a> <a href="/tags/打表/" style="font-size: 10px;">打表</a> <a href="/tags/扩展欧几里得/" style="font-size: 10px;">扩展欧几里得</a> <a href="/tags/拆点/" style="font-size: 10px;">拆点</a> <a href="/tags/拓扑排序/" style="font-size: 10px;">拓扑排序</a> <a href="/tags/指针/" style="font-size: 12.5px;">指针</a> <a href="/tags/排列组合/" style="font-size: 10px;">排列组合</a> <a href="/tags/搜索/" style="font-size: 16.25px;">搜索</a> <a href="/tags/数学/" style="font-size: 10px;">数学</a> <a href="/tags/数论/" style="font-size: 10px;">数论</a> <a href="/tags/斐波那契博弈/" style="font-size: 10px;">斐波那契博弈</a> <a href="/tags/斐波那契数列/" style="font-size: 10px;">斐波那契数列</a> <a href="/tags/斜率优化/" style="font-size: 11.25px;">斜率优化</a> <a href="/tags/无限/" style="font-size: 10px;">无限</a> <a href="/tags/最大公约数/" style="font-size: 10px;">最大公约数</a> <a href="/tags/最大流/" style="font-size: 10px;">最大流</a> <a href="/tags/最小生成树/" style="font-size: 11.25px;">最小生成树</a> <a href="/tags/最短路/" style="font-size: 16.25px;">最短路</a> <a href="/tags/最长上升子序列/" style="font-size: 11.25px;">最长上升子序列</a> <a href="/tags/最长公共子序列/" style="font-size: 10px;">最长公共子序列</a> <a href="/tags/构造/" style="font-size: 11.25px;">构造</a> <a href="/tags/查分/" style="font-size: 10px;">查分</a> <a href="/tags/树/" style="font-size: 10px;">树</a> <a href="/tags/树形dp/" style="font-size: 16.25px;">树形dp</a> <a href="/tags/树状数组/" style="font-size: 11.25px;">树状数组</a> <a href="/tags/模拟/" style="font-size: 17.5px;">模拟</a> <a href="/tags/模板/" style="font-size: 16.25px;">模板</a> <a href="/tags/欧拉函数/" style="font-size: 10px;">欧拉函数</a> <a href="/tags/测试/" style="font-size: 11.25px;">测试</a> <a href="/tags/版权信息/" style="font-size: 10px;">版权信息</a> <a href="/tags/生成树/" style="font-size: 13.75px;">生成树</a> <a href="/tags/矩阵快速幂/" style="font-size: 11.25px;">矩阵快速幂</a> <a href="/tags/秦九韶算法/" style="font-size: 10px;">秦九韶算法</a> <a href="/tags/等差数列/" style="font-size: 10px;">等差数列</a> <a href="/tags/线性代数/" style="font-size: 11.25px;">线性代数</a> <a href="/tags/线段树/" style="font-size: 17.5px;">线段树</a> <a href="/tags/网络流/" style="font-size: 10px;">网络流</a> <a href="/tags/考试/" style="font-size: 10px;">考试</a> <a href="/tags/背包/" style="font-size: 11.25px;">背包</a> <a href="/tags/艺术/" style="font-size: 11.25px;">艺术</a> <a href="/tags/莫比乌斯反演/" style="font-size: 11.25px;">莫比乌斯反演</a> <a href="/tags/规律/" style="font-size: 11.25px;">规律</a> <a href="/tags/解决方案/" style="font-size: 15px;">解决方案</a> <a href="/tags/计划/" style="font-size: 13.75px;">计划</a> <a href="/tags/贪心/" style="font-size: 15px;">贪心</a> <a href="/tags/逆元/" style="font-size: 10px;">逆元</a> <a href="/tags/逆序对/" style="font-size: 10px;">逆序对</a> <a href="/tags/错位排列数/" style="font-size: 10px;">错位排列数</a> <a href="/tags/题目/" style="font-size: 10px;">题目</a> <a href="/tags/高精/" style="font-size: 11.25px;">高精</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/04/10/dphigher/">动态规划题目选做</a>
          </li>
        
          <li>
            <a href="/2018/04/10/dpeasypros/">历年NOIP简单动态规划题目选做</a>
          </li>
        
          <li>
            <a href="/2018/04/07/noip2014d2/">NOIP 2014 Day1</a>
          </li>
        
          <li>
            <a href="/2018/04/07/noip2014d1/">NOIP 2014 Day1</a>
          </li>
        
          <li>
            <a href="/2018/04/06/SuffixArray/">后缀数组</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>